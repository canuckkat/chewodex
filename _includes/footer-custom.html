<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
    integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js"
    integrity="sha512-Tn2m0TIpgVyTzzvmxLNuqbSJH3JP8jm+Cy3hvHrW7ndTDcJ1w5mBiksqDBb8GpE2ksktFvDB/ykZ0mDpsZj20w=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
{% if page.layout == 'recipe' %}
<script type="text/javascript">
var tlic = document.getElementsByClassName('task-list-item-checkbox');

Array.prototype.forEach.call(tlic, (item) => item.removeAttribute('disabled'));
</script>
{% endif %}
{% if page.title == 'Recipes' %}
<script>
    jQuery(document).ready(function() {
        /* $('#recipe-filter-made').on('change',function() {
            // console.log('Made button changed!');
            // $('#' + $(this).attr('id')).toggle(this.checked);
            if ($(this).prop('checked')) {
                $('.recipe:not(.made)').hide(200);
                // console.log('Hide recipes not made.');
            } else {
                $('.recipe').show(300);
            }
        }); */
        $('input[name="recipe_tag"]').change(function() {
            // console.log('id: '+ $(this).attr('id'));
            if ($(this).attr('id') != 'recipe-filter-made') {
                // console.log('Tag button changed!');
                // console.log('class: '+'.recipe.'+$(this).attr('value'));
                if ($(this).prop('checked')) {
                    //TODO: show based on made status
                    $('.recipe.'+$(this).attr('value')).show(300);
                } else {
                    $('.recipe.'+$(this).attr('value')).hide(200);
                }
            } else {
                // console.log('Made button changed!');
                // $('#' + $(this).attr('id')).toggle(this.checked);
                if ($(this).prop('checked')) {
                    $('.recipe:not(.made)').hide(200);
                    // console.log('Hide recipes not made.');
                } else {
                    $('.recipe').show(300);
                }
            }
        });
    });
</script>
{% endif %}